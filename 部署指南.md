# 🚀 Windows 本地部署指南（超简化版）

## ✅ 前提条件
- Windows 10/11
- 已打包的项目 ZIP（包含 .venv）

---

## 📦 部署步骤（3 步完成）

### 第 1 步：解压 ZIP 文件
将下载的 `InitialProject.zip` 解压到任意目录，例如：
```
D:\devops-agent\
```

### 第 2 步：双击启动服务
找到项目目录中的文件：
```
启动服务.bat
```
**双击运行**，等待看到：
```
✅ 服务启动中，请稍候...
📍 访问地址：http://localhost:8000
```

### 第 3 步：测试服务（可选）
**打开新的命令行窗口**，双击运行：
```
测试服务.bat
```

---

## 🎯 验证服务

### 方式 1：浏览器访问
打开浏览器，访问以下地址：
- **健康检查**: http://localhost:8000/api/v1/health
- **API 文档**: http://localhost:8000/docs

### 方式 2：命令行测试
在新的命令行窗口运行：
```cmd
curl http://localhost:8000/api/v1/health
```

---

## 🛠 常用操作

### 停止服务
在启动服务的窗口按 `Ctrl + C`

### 重启服务
1. 停止服务（Ctrl + C）
2. 重新双击 `启动服务.bat`

### 修改配置
编辑项目根目录的 `.env` 文件，然后重启服务

### 查看日志
日志文件位置：
```
logs/app.log
```

---

## 📍 项目文件结构
```
InitialProject/
├── 启动服务.bat          ← 双击启动
├── 测试服务.bat          ← 测试接口
├── .env                 ← 配置文件（已配置好）
├── .venv/               ← Python 虚拟环境（已打包）
├── src/                 ← 源代码
├── data/                ← 数据库文件（自动创建）
└── logs/                ← 日志文件（自动创建）
```

---

## ⚠️ 常见问题

### Q1: 双击启动脚本闪退？
A: 检查 `.venv` 文件夹是否完整，是否包含 `Scripts/python.exe`

### Q2: 提示端口 8000 被占用？
A: 修改 `.env` 文件中的 `API_PORT=8000` 为其他端口，如 `8001`

### Q3: curl 命令找不到？
A: Windows 10 1803+ 自带 curl，如果没有可以：
- 使用浏览器访问 http://localhost:8000/docs
- 或安装 Git for Windows（自带 curl）

### Q4: 服务无法连接到 Higress 网关？
A: 检查：
- 公司网络是否正常
- `.env` 中的 `DEEPSEEK_BASE_URL` 是否正确
- `DEEPSEEK_API_KEY` 是否有效

---

## 🔗 API 端点

- **健康检查**: `GET http://localhost:8000/api/v1/health`
- **聊天流式**: `POST http://localhost:8000/api/v1/chat/stream`
- **API 文档**: `GET http://localhost:8000/docs`

---

## 📞 需要帮助？
查看完整文档：`docs/` 目录

---

**就这么简单！双击启动，即可使用。**
